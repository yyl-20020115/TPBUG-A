ROM:0000                         ;
ROM:0000                         ; +-------------------------------------------------------------------------+
ROM:0000                         ; |   This file has been generated by The Interactive Disassembler (IDA)    |
ROM:0000                         ; |           Copyright (c) 2015 Hex-Rays, <support@hex-rays.com>           |
ROM:0000                         ; |                      License info: 48-3255-7514-28                      |
ROM:0000                         ; |                         Giancarlo Russo, HT Srl                         |
ROM:0000                         ; +-------------------------------------------------------------------------+
ROM:0000                         ;
ROM:0000                         ; Input MD5   : CC6ECEC3E6309BA67D8CC1BE0199B5F4
ROM:0000                         ; Input CRC32 : D15402A2
ROM:0000
ROM:0000                         ; File Name   : D:\TP801_FPGA_prj\TP801_FPGA_BASE\rom\tp801a.BIN
ROM:0000                         ; Format      : Binary file
ROM:0000                         ; Base Address: 0000h Range: 0000h - 0800h Loaded length: 00000800h
ROM:0000
ROM:0000                         ; Processor       : z80 []
ROM:0000                         ; Target assembler: Zilog Macro Assembler
ROM:0000
ROM:0000                         ; ===========================================================================
ROM:0000
ROM:0000                         ; Segment type: Pure code
ROM:0000                                         segment ROM
ROM:0000
ROM:0000                         ; =============== S U B R O U T I N E =======================================
ROM:0000
ROM:0000
ROM:0000                         sub_0:                                  ; CODE XREF: sub_0+19p
ROM:0000
ROM:0000                         ; FUNCTION CHUNK AT ROM:014B SIZE 00000024 BYTES
ROM:0000                         ; FUNCTION CHUNK AT ROM:0186 SIZE 0000001D BYTES
ROM:0000
ROM:0000 F3                                      di
ROM:0001 AF                                      xor     a
ROM:0002 21 DD 2F                                ld      hl, 2FDDh
ROM:0005 C3 89 00                                jp      loc_89
ROM:0008                         ; ---------------------------------------------------------------------------
ROM:0008
ROM:0008                         loc_8:                                  ; CODE XREF: sub_0+9Cp
ROM:0008 ED 73 D9 2F                             ld      (word_2FD9), sp
ROM:000C F5                                      push    af
ROM:000D 00                                      nop
ROM:000E 18 03                                   jr      loc_13
ROM:000E                         ; ---------------------------------------------------------------------------
ROM:0010 C3                                      db 0C3h ; 
ROM:0011 C4 2F                                   db 0C4h, 2Fh
ROM:0013                         ; ---------------------------------------------------------------------------
ROM:0013
ROM:0013                         loc_13:                                 ; CODE XREF: sub_0+Ej
ROM:0013 CD 0C 06                                call    sub_60C
ROM:0016 18 03                                   jr      loc_1B
ROM:0016                         ; ---------------------------------------------------------------------------
ROM:0018 C3                                      db 0C3h ; 
ROM:0019                         ; ---------------------------------------------------------------------------
ROM:0019 C7                                      rst     0
ROM:001A 2F                                      cpl
ROM:001B
ROM:001B                         loc_1B:                                 ; CODE XREF: sub_0+16j
ROM:001B DD 7E FE                                ld      a, (ix+0FEh)
ROM:001E 18 03                                   jr      loc_23
ROM:001E                         ; ---------------------------------------------------------------------------
ROM:0020 C3                                      db 0C3h ; 
ROM:0021 CA 2F                                   db 0CAh, 2Fh
ROM:0023                         ; ---------------------------------------------------------------------------
ROM:0023
ROM:0023                         loc_23:                                 ; CODE XREF: sub_0+1Ej
ROM:0023 B7                                      or      a
ROM:0024 20 0D                                   jr      nz, loc_33
ROM:0026 18 03                                   jr      loc_2B
ROM:0026                         ; ---------------------------------------------------------------------------
ROM:0028 C3                                      db 0C3h ; 
ROM:0029 CD 2F                                   db 0CDh, 2Fh
ROM:002B                         ; ---------------------------------------------------------------------------
ROM:002B
ROM:002B                         loc_2B:                                 ; CODE XREF: sub_0+26j
ROM:002B DD 35 FF                                dec     (ix+0FFh)
ROM:002E 18 03                                   jr      loc_33
ROM:002E                         ; ---------------------------------------------------------------------------
ROM:0030 C3                                      db 0C3h ; 
ROM:0031                         ; ---------------------------------------------------------------------------
ROM:0031 D0                                      ret     nc
ROM:0032 2F                                      cpl
ROM:0033
ROM:0033                         loc_33:                                 ; CODE XREF: sub_0+24j
ROM:0033                                                                 ; sub_0+2Ej
ROM:0033 DD 35 FE                                dec     (ix+0FEh)
ROM:0036 18 03                                   jr      loc_3B
ROM:0036                         ; ---------------------------------------------------------------------------
ROM:0038 C3                      unk_38:         db 0C3h ;              ; CODE XREF: ROM:00F2p
ROM:0038                                                                 ; ROM:00F3p
ROM:0039                         ; ---------------------------------------------------------------------------
ROM:0039 D3 2F                                   out     (2Fh), a
ROM:003B
ROM:003B                         loc_3B:                                 ; CODE XREF: sub_0+36j
ROM:003B                                                                 ; sub_0+72j
ROM:003B CD 72 06                                call    sub_672
ROM:003E 28 64                                   jr      z, loc_A4
ROM:0040
ROM:0040                         loc_40:                                 ; CODE XREF: sub_0+51j
ROM:0040 DD 7E 02                                ld      a, (ix+2)
ROM:0043 FE CF                                   cp      0CFh ; '
ROM:0045 28 07                                   jr      z, loc_4E
ROM:0047 DD 6E 01                                ld      l, (ix+1)
ROM:004A DD 66 00                                ld      h, (ix+0)
ROM:004D 77                                      ld      (hl), a
ROM:004E
ROM:004E                         loc_4E:                                 ; CODE XREF: sub_0+45j
ROM:004E CD 7C 06                                call    sub_67C
ROM:0051 20 ED                                   jr      nz, loc_40
ROM:0053
ROM:0053                         loc_53:                                 ; CODE XREF: sub_0+7Cj
ROM:0053 DD 21 F7 2F                             ld      ix, 2FF7h
ROM:0057 2A D9 2F                                ld      hl, (word_2FD9)
ROM:005A 0E 03                                   ld      c, 3
ROM:005C 18 04                                   jr      loc_62
ROM:005E                         ; ---------------------------------------------------------------------------
ROM:005E
ROM:005E                         loc_5E:                                 ; CODE XREF: sub_0+85j
ROM:005E DD 23                                   inc     ix
ROM:0060 DD 23                                   inc     ix
ROM:0062
ROM:0062                         loc_62:                                 ; CODE XREF: sub_0+5Cj
ROM:0062 2B                                      dec     hl
ROM:0063 7E                                      ld      a, (hl)
ROM:0064 18 1B                                   jr      loc_81
ROM:0066                         ; ---------------------------------------------------------------------------
ROM:0066 ED 73 D9 2F                             ld      (word_2FD9), sp
ROM:006A F5                                      push    af
ROM:006B CD 0C 06                                call    sub_60C
ROM:006E 3A F4 2F                                ld      a, (byte_2FF4)
ROM:0071 B7                                      or      a
ROM:0072 CA 3B 00                                jp      z, loc_3B
ROM:0075 AF                                      xor     a
ROM:0076 32 F4 2F                                ld      (byte_2FF4), a
ROM:0079 CD 72 06                                call    sub_672
ROM:007C 28 D5                                   jr      z, loc_53
ROM:007E C3 4B 01                                jp      loc_14B
ROM:0081                         ; ---------------------------------------------------------------------------
ROM:0081
ROM:0081                         loc_81:                                 ; CODE XREF: sub_0+64j
ROM:0081 CD 3C 06                                call    sub_63C
ROM:0084 0D                                      dec     c
ROM:0085 20 D7                                   jr      nz, loc_5E
ROM:0087 18 40                                   jr      loc_C9
ROM:0089                         ; ---------------------------------------------------------------------------
ROM:0089
ROM:0089                         loc_89:                                 ; CODE XREF: sub_0+5j
ROM:0089 77                                      ld      (hl), a
ROM:008A 23                                      inc     hl
ROM:008B 77                                      ld      (hl), a
ROM:008C 3E CF                                   ld      a, 0CFh ; '
ROM:008E 32 D3 2F                                ld      (byte_2FD3), a
ROM:0091 21 B8 2F                                ld      hl, 2FB8h
ROM:0094 22 D9 2F                                ld      (word_2FD9), hl
ROM:0097 31 A0 2F                                ld      sp, 2FA0h
ROM:009A 18 01                                   jr      loc_9D
ROM:009C                         ; ---------------------------------------------------------------------------
ROM:009C CF                                      rst     8
ROM:009D
ROM:009D                         loc_9D:                                 ; CODE XREF: sub_0+9Aj
ROM:009D 3E 03                                   ld      a, 3
ROM:009F D3 86                                   out     (86h), a
ROM:00A1 CD 84 06                                call    sub_684
ROM:00A4
ROM:00A4                         loc_A4:                                 ; CODE XREF: sub_0+3Ej
ROM:00A4                                                                 ; ROM:loc_1A3j ...
ROM:00A4 3E 11                                   ld      a, 11h
ROM:00A6
ROM:00A6                         loc_A6:                                 ; CODE XREF: ROM:01A8j
ROM:00A6 32 FF 2F                                ld      (byte_2FFF), a
ROM:00A6                         ; End of function sub_0
ROM:00A6
ROM:00A9                         ; START OF FUNCTION CHUNK FOR sub_2E7
ROM:00A9
ROM:00A9                         loc_A9:                                 ; CODE XREF: sub_2E7+84j
ROM:00A9                                                                 ; sub_5F9-207j ...
ROM:00A9 21 EF 2F                                ld      hl, 2FEFh
ROM:00AC AF                                      xor     a
ROM:00AD 06 08                                   ld      b, 8
ROM:00AF
ROM:00AF                         loc_AF:                                 ; CODE XREF: sub_2E7-236j
ROM:00AF 77                                      ld      (hl), a
ROM:00B0 23                                      inc     hl
ROM:00B1 10 FC                                   djnz    loc_AF
ROM:00B3 22 DB 2F                                ld      (word_2FDB), hl
ROM:00B6 3A FF 2F                                ld      a, (byte_2FFF)
ROM:00B9 77                                      ld      (hl), a
ROM:00BA 3E 10                                   ld      a, 10h
ROM:00BC 06 06                                   ld      b, 6
ROM:00BE
ROM:00BE                         loc_BE:                                 ; CODE XREF: sub_2E7-227j
ROM:00BE 23                                      inc     hl
ROM:00BF 77                                      ld      (hl), a
ROM:00C0 10 FC                                   djnz    loc_BE
ROM:00C2 DB 90                                   in      a, (90h)
ROM:00C4 CB 6F                                   bit     5, a
ROM:00C6 CA 00 08                                jp      z, 800h
ROM:00C9
ROM:00C9                         loc_C9:                                 ; CODE XREF: sub_0+87j
ROM:00C9                                                                 ; sub_2E7-218j ...
ROM:00C9 CD 92 05                                call    sub_592
ROM:00CC
ROM:00CC                         loc_CC:                                 ; CODE XREF: ROM:0123j
ROM:00CC CD B6 05                                call    sub_5B6
ROM:00CF 20 F8                                   jr      nz, loc_C9
ROM:00D1 CD F9 05                                call    sub_5F9
ROM:00D4 78                                      ld      a, b
ROM:00D5 FE 10                                   cp      10h
ROM:00D7 30 32                                   jr      nc, loc_10B
ROM:00D9 2A DB 2F                                ld      hl, (word_2FDB)
ROM:00DC 70                                      ld      (hl), b
ROM:00DD 7D                                      ld      a, l
ROM:00DE FE F8                                   cp      0F8h ; '
ROM:00E0 21 F5 2F                                ld      hl, 2FF5h
ROM:00E3 28 17                                   jr      z, loc_FC
ROM:00E5 FE FA                                   cp      0FAh ; '
ROM:00E7 21 F6 2F                                ld      hl, 2FF6h
ROM:00EA 28 10                                   jr      z, loc_FC
ROM:00EC FE FE                                   cp      0FEh ; '
ROM:00EE 28 0F                                   jr      z, loc_FF
ROM:00F0 18 04                                   jr      loc_F6
ROM:00F0                         ; END OF FUNCTION CHUNK FOR sub_2E7
ROM:00F2                         ; ---------------------------------------------------------------------------
ROM:00F2 FF                                      rst     38h
ROM:00F3 FF                                      rst     38h
ROM:00F4 18 D3                                   jr      loc_C9
ROM:00F6                         ; ---------------------------------------------------------------------------
ROM:00F6                         ; START OF FUNCTION CHUNK FOR sub_2E7
ROM:00F6
ROM:00F6                         loc_F6:                                 ; CODE XREF: sub_2E7-1F7j
ROM:00F6                                                                 ; sub_2E7-1EAj
ROM:00F6 2A DB 2F                                ld      hl, (word_2FDB)
ROM:00F9 23                                      inc     hl
ROM:00FA 18 0A                                   jr      loc_106
ROM:00FC                         ; ---------------------------------------------------------------------------
ROM:00FC
ROM:00FC                         loc_FC:                                 ; CODE XREF: sub_2E7-204j
ROM:00FC                                                                 ; sub_2E7-1FDj
ROM:00FC 34                                      inc     (hl)
ROM:00FD 18 F7                                   jr      loc_F6
ROM:00FF                         ; ---------------------------------------------------------------------------
ROM:00FF
ROM:00FF                         loc_FF:                                 ; CODE XREF: sub_2E7-1F9j
ROM:00FF CD E7 02                                call    sub_2E7
ROM:0102 2A DB 2F                                ld      hl, (word_2FDB)
ROM:0105 2B                                      dec     hl
ROM:0106
ROM:0106                         loc_106:                                ; CODE XREF: sub_2E7-1EDj
ROM:0106 22 DB 2F                                ld      (word_2FDB), hl
ROM:0109 18 BE                                   jr      loc_C9
ROM:010B                         ; ---------------------------------------------------------------------------
ROM:010B
ROM:010B                         loc_10B:                                ; CODE XREF: sub_2E7-210j
ROM:010B D6 10                                   sub     10h
ROM:010D 87                                      add     a, a
ROM:010E 4F                                      ld      c, a
ROM:010F 06 00                                   ld      b, 0
ROM:0111 3A FF 2F                                ld      a, (byte_2FFF)
ROM:0114 CB 47                                   bit     0, a
ROM:0116 21 62 05                                ld      hl, 562h
ROM:0119 20 03                                   jr      nz, loc_11E
ROM:011B 21 7A 05                                ld      hl, 57Ah
ROM:011E
ROM:011E                         loc_11E:                                ; CODE XREF: sub_2E7-1CEj
ROM:011E 09                                      add     hl, bc
ROM:011F 5E                                      ld      e, (hl)
ROM:0120 23                                      inc     hl
ROM:0121 18 02                                   jr      loc_125
ROM:0121                         ; END OF FUNCTION CHUNK FOR sub_2E7
ROM:0123                         ; ---------------------------------------------------------------------------
ROM:0123 18 A7                                   jr      loc_CC
ROM:0125                         ; ---------------------------------------------------------------------------
ROM:0125                         ; START OF FUNCTION CHUNK FOR sub_2E7
ROM:0125
ROM:0125                         loc_125:                                ; CODE XREF: sub_2E7-1C6j
ROM:0125 56                                      ld      d, (hl)
ROM:0126 EB                                      ex      de, hl
ROM:0127 E9                                      jp      (hl)
ROM:0127                         ; END OF FUNCTION CHUNK FOR sub_2E7
ROM:0128                         ; ---------------------------------------------------------------------------
ROM:0128 3A F2 2F                                ld      a, (byte_2FF2)
ROM:012B B7                                      or      a
ROM:012C 20 75                                   jr      nz, loc_1A3
ROM:012E AF                                      xor     a
ROM:012F D3 8C                                   out     (8Ch), a
ROM:0131 3A F6 2F                                ld      a, (byte_2FF6)
ROM:0134 B7                                      or      a
ROM:0135 28 0D                                   jr      z, loc_144
ROM:0137 CD 59 06                                call    sub_659
ROM:013A
ROM:013A                         loc_13A:                                ; CODE XREF: ROM:loc_52Dj
ROM:013A DD 2A D9 2F                             ld      ix, (word_2FD9)
ROM:013E DD 75 FE                                ld      (ix+0FEh), l
ROM:0141 DD 74 FF                                ld      (ix+0FFh), h
ROM:0144
ROM:0144                         loc_144:                                ; CODE XREF: ROM:0135j
ROM:0144 CD 72 06                                call    sub_672
ROM:0147 20 30                                   jr      nz, loc_179
ROM:0149 18 16                                   jr      loc_161
ROM:014B                         ; ---------------------------------------------------------------------------
ROM:014B                         ; START OF FUNCTION CHUNK FOR sub_0
ROM:014B
ROM:014B                         loc_14B:                                ; CODE XREF: sub_0+7Ej
ROM:014B DD 21 DF 2F                             ld      ix, 2FDFh
ROM:014F
ROM:014F                         loc_14F:                                ; CODE XREF: sub_0+15Fj
ROM:014F DD 66 00                                ld      h, (ix+0)
ROM:0152 DD 6E 01                                ld      l, (ix+1)
ROM:0155 7E                                      ld      a, (hl)
ROM:0156 0E CF                                   ld      c, 0CFh ; '
ROM:0158 71                                      ld      (hl), c
ROM:0159 DD 77 02                                ld      (ix+2), a
ROM:015C CD 7C 06                                call    sub_67C
ROM:015F 20 EE                                   jr      nz, loc_14F
ROM:0161
ROM:0161                         loc_161:                                ; CODE XREF: ROM:0149j
ROM:0161 3E 04                                   ld      a, 4
ROM:0163 D3 8C                                   out     (8Ch), a
ROM:0165 3E 45                                   ld      a, 45h ; 'E'
ROM:0167 D3 86                                   out     (86h), a
ROM:0169 3E 01                                   ld      a, 1
ROM:016B D3 86                                   out     (86h), a
ROM:016D 18 17                                   jr      loc_186
ROM:016D                         ; END OF FUNCTION CHUNK FOR sub_0
ROM:016F                         ; ---------------------------------------------------------------------------
ROM:016F 3A F2 2F                                ld      a, (byte_2FF2)
ROM:0172 B7                                      or      a
ROM:0173 20 2E                                   jr      nz, loc_1A3
ROM:0175 AF                                      xor     a
ROM:0176 32 DE 2F                                ld      (byte_2FDE), a
ROM:0179
ROM:0179                         loc_179:                                ; CODE XREF: ROM:0147j
ROM:0179 3E 01                                   ld      a, 1
ROM:017B 32 F4 2F                                ld      (byte_2FF4), a
ROM:017E 3E 07                                   ld      a, 7
ROM:0180 D3 86                                   out     (86h), a
ROM:0182 3E 0B                                   ld      a, 0Bh
ROM:0184 D3 86                                   out     (86h), a
ROM:0186                         ; START OF FUNCTION CHUNK FOR sub_0
ROM:0186
ROM:0186                         loc_186:                                ; CODE XREF: sub_0+16Dj
ROM:0186 FD E1                                   pop     iy
ROM:0188 DD E1                                   pop     ix
ROM:018A E1                                      pop     hl
ROM:018B D1                                      pop     de
ROM:018C C1                                      pop     bc
ROM:018D F1                                      pop     af
ROM:018E 08                                      ex      af, af'
ROM:018F D9                                      exx
ROM:0190 F1                                      pop     af
ROM:0191 ED 47                                   ld      i, a
ROM:0193 E1                                      pop     hl
ROM:0194 D1                                      pop     de
ROM:0195 C1                                      pop     bc
ROM:0196 3A DD 2F                                ld      a, (byte_2FDD)
ROM:0199 B7                                      or      a
ROM:019A C2 A0 01                                jp      nz, loc_1A0
ROM:019D F1                                      pop     af
ROM:019E F3                                      di
ROM:019F C9                                      ret
ROM:01A0                         ; ---------------------------------------------------------------------------
ROM:01A0
ROM:01A0                         loc_1A0:                                ; CODE XREF: sub_0+19Aj
ROM:01A0 F1                                      pop     af
ROM:01A1 FB                                      ei
ROM:01A2 C9                                      ret
ROM:01A2                         ; END OF FUNCTION CHUNK FOR sub_0
ROM:01A3                         ; ---------------------------------------------------------------------------
ROM:01A3
ROM:01A3                         loc_1A3:                                ; CODE XREF: ROM:012Cj
ROM:01A3                                                                 ; ROM:0173j ...
ROM:01A3 C3 A4 00                                jp      loc_A4
ROM:01A6                         ; ---------------------------------------------------------------------------
ROM:01A6 3E 12                                   ld      a, 12h
ROM:01A8 C3 A6 00                                jp      loc_A6
ROM:01AB                         ; ---------------------------------------------------------------------------
ROM:01AB 3A F3 2F                                ld      a, (byte_2FF3)
ROM:01AE B7                                      or      a
ROM:01AF C2 11 04                                jp      nz, loc_411
ROM:01B2 CD 59 06                                call    sub_659
ROM:01B5 3A F1 2F                                ld      a, (byte_2FF1)
ROM:01B8 B7                                      or      a
ROM:01B9 20 47                                   jr      nz, loc_202
ROM:01BB
ROM:01BB                         loc_1BB:                                ; CODE XREF: ROM:01E9j
ROM:01BB                                                                 ; ROM:01EDj
ROM:01BB 23                                      inc     hl
ROM:01BC 23                                      inc     hl
ROM:01BD
ROM:01BD                         loc_1BD:                                ; CODE XREF: ROM:0216j
ROM:01BD 2B                                      dec     hl
ROM:01BE 3A F2 2F                                ld      a, (byte_2FF2)
ROM:01C1 CB 47                                   bit     0, a
ROM:01C3 20 2A                                   jr      nz, loc_1EF
ROM:01C5 CB 5F                                   bit     3, a
ROM:01C7 28 DA                                   jr      z, loc_1A3
ROM:01C9 18 11                                   jr      loc_1DC
ROM:01CB                         ; ---------------------------------------------------------------------------
ROM:01CB
ROM:01CB                         loc_1CB:                                ; CODE XREF: ROM:0474j
ROM:01CB CB DF                                   set     3, a
ROM:01CD 32 F2 2F                                ld      (byte_2FF2), a
ROM:01D0 DD 7E 04                                ld      a, (ix+4)
ROM:01D3 CD 80 03                                call    sub_380
ROM:01D6 DD B6 05                                or      (ix+5)
ROM:01D9 32 EE 2F                                ld      (byte_2FEE), a
ROM:01DC
ROM:01DC                         loc_1DC:                                ; CODE XREF: ROM:01C9j
ROM:01DC 3A EE 2F                                ld      a, (byte_2FEE)
ROM:01DF BE                                      cp      (hl)
ROM:01E0 3A F2 2F                                ld      a, (byte_2FF2)
ROM:01E3 28 06                                   jr      z, loc_1EB
ROM:01E5 CB 57                                   bit     2, a
ROM:01E7 20 06                                   jr      nz, loc_1EF
ROM:01E9 18 D0                                   jr      loc_1BB
ROM:01EB                         ; ---------------------------------------------------------------------------
ROM:01EB
ROM:01EB                         loc_1EB:                                ; CODE XREF: ROM:01E3j
ROM:01EB CB 4F                                   bit     1, a
ROM:01ED 28 CC                                   jr      z, loc_1BB
ROM:01EF
ROM:01EF                         loc_1EF:                                ; CODE XREF: ROM:01C3j
ROM:01EF                                                                 ; ROM:01E7j ...
ROM:01EF 7C                                      ld      a, h
ROM:01F0 CD 3C 06                                call    sub_63C
ROM:01F3 DD 23                                   inc     ix
ROM:01F5 DD 23                                   inc     ix
ROM:01F7 7D                                      ld      a, l
ROM:01F8 CD 3C 06                                call    sub_63C
ROM:01FB DD 23                                   inc     ix
ROM:01FD DD 23                                   inc     ix
ROM:01FF 7E                                      ld      a, (hl)
ROM:0200 18 0C                                   jr      loc_20E
ROM:0202                         ; ---------------------------------------------------------------------------
ROM:0202
ROM:0202                         loc_202:                                ; CODE XREF: ROM:01B9j
ROM:0202 4C                                      ld      c, h
ROM:0203 0C                                      inc     c
ROM:0204 79                                      ld      a, c
ROM:0205 CD 3C 06                                call    sub_63C
ROM:0208 DD 21 FB 2F                             ld      ix, 2FFBh
ROM:020C ED 78                                   in      a, (c)
ROM:020E
ROM:020E                         loc_20E:                                ; CODE XREF: ROM:0200j
ROM:020E CD 3C 06                                call    sub_63C
ROM:0211 18 66                                   jr      loc_279
ROM:0213                         ; ---------------------------------------------------------------------------
ROM:0213 CD 59 06                                call    sub_659
ROM:0216 18 A5                                   jr      loc_1BD
ROM:0218                         ; ---------------------------------------------------------------------------
ROM:0218 3E 01                                   ld      a, 1
ROM:021A 32 F0 2F                                ld      (byte_2FF0), a
ROM:021D 21 E5 07                                ld      hl, 7E5h
ROM:0220 CD 89 03                                call    sub_389
ROM:0223 3E 12                                   ld      a, 12h
ROM:0225 DD 77 01                                ld      (ix+1), a
ROM:0228 18 10                                   jr      loc_23A
ROM:022A                         ; ---------------------------------------------------------------------------
ROM:022A 3E 01                                   ld      a, 1
ROM:022C 32 EF 2F                                ld      (byte_2FEF), a
ROM:022F 21 D5 07                                ld      hl, 7D5h
ROM:0232 CD 89 03                                call    sub_389
ROM:0235 7B                                      ld      a, e
ROM:0236 FE 06                                   cp      6
ROM:0238 38 06                                   jr      c, loc_240
ROM:023A
ROM:023A                         loc_23A:                                ; CODE XREF: ROM:0228j
ROM:023A 7E                                      ld      a, (hl)
ROM:023B CD 82 02                                call    sub_282
ROM:023E 18 33                                   jr      loc_273
ROM:0240                         ; ---------------------------------------------------------------------------
ROM:0240
ROM:0240                         loc_240:                                ; CODE XREF: ROM:0238j
ROM:0240 FE 03                                   cp      3
ROM:0242 28 29                                   jr      z, loc_26D
ROM:0244 FE 02                                   cp      2
ROM:0246 28 13                                   jr      z, loc_25B
ROM:0248 7E                                      ld      a, (hl)
ROM:0249 DD 21 FB 2F                             ld      ix, 2FFBh
ROM:024D DD 22 DB 2F                             ld      (word_2FDB), ix
ROM:0251 CD 3C 06                                call    sub_63C
ROM:0254 23                                      inc     hl
ROM:0255 7E                                      ld      a, (hl)
ROM:0256 CD 7C 02                                call    sub_27C
ROM:0259 18 1E                                   jr      loc_279
ROM:025B                         ; ---------------------------------------------------------------------------
ROM:025B
ROM:025B                         loc_25B:                                ; CODE XREF: ROM:0246j
ROM:025B 3A DA 2F                                ld      a, (word_2FD9+1)
ROM:025E CD 7C 02                                call    sub_27C
ROM:0261 3A D9 2F                                ld      a, (word_2FD9)
ROM:0264 CD 82 02                                call    sub_282
ROM:0267 DD 22 DB 2F                             ld      (word_2FDB), ix
ROM:026B 18 0C                                   jr      loc_279
ROM:026D                         ; ---------------------------------------------------------------------------
ROM:026D
ROM:026D                         loc_26D:                                ; CODE XREF: ROM:0242j
ROM:026D 3A DD 2F                                ld      a, (byte_2FDD)
ROM:0270 CD 82 02                                call    sub_282
ROM:0273
ROM:0273                         loc_273:                                ; CODE XREF: ROM:023Ej
ROM:0273 21 FD 2F                                ld      hl, 2FFDh
ROM:0276 22 DB 2F                                ld      (word_2FDB), hl
ROM:0279
ROM:0279                         loc_279:                                ; CODE XREF: ROM:0211j
ROM:0279                                                                 ; ROM:0259j ...
ROM:0279 C3 C9 00                                jp      loc_C9
ROM:027C
ROM:027C                         ; =============== S U B R O U T I N E =======================================
ROM:027C
ROM:027C
ROM:027C                         sub_27C:                                ; CODE XREF: ROM:0256p
ROM:027C                                                                 ; ROM:025Ep ...
ROM:027C DD 21 F9 2F                             ld      ix, 2FF9h
ROM:0280 18 04                                   jr      loc_286
ROM:0280                         ; End of function sub_27C
ROM:0280
ROM:0282
ROM:0282                         ; =============== S U B R O U T I N E =======================================
ROM:0282
ROM:0282
ROM:0282                         sub_282:                                ; CODE XREF: ROM:023Bp
ROM:0282                                                                 ; ROM:0264p ...
ROM:0282 DD 21 FB 2F                             ld      ix, 2FFBh
ROM:0286
ROM:0286                         loc_286:                                ; CODE XREF: sub_27C+4j
ROM:0286 CD 3C 06                                call    sub_63C
ROM:0289 C9                                      ret
ROM:0289                         ; End of function sub_282
ROM:0289
ROM:028A                         ; ---------------------------------------------------------------------------
ROM:028A 3A F6 2F                                ld      a, (byte_2FF6)
ROM:028D B7                                      or      a
ROM:028E 28 E9                                   jr      z, loc_279
ROM:0290 32 F2 2F                                ld      (byte_2FF2), a
ROM:0293 CD 59 06                                call    sub_659
ROM:0296 7E                                      ld      a, (hl)
ROM:0297
ROM:0297                         loc_297:                                ; CODE XREF: ROM:02E5j
ROM:0297 CD 82 02                                call    sub_282
ROM:029A DD 23                                   inc     ix
ROM:029C DD 23                                   inc     ix
ROM:029E DD 22 DB 2F                             ld      (word_2FDB), ix
ROM:02A2 18 D5                                   jr      loc_279
ROM:02A4                         ; ---------------------------------------------------------------------------
ROM:02A4 3A F6 2F                                ld      a, (byte_2FF6)
ROM:02A7 B7                                      or      a
ROM:02A8 28 1D                                   jr      z, loc_2C7
ROM:02AA CD 59 06                                call    sub_659
ROM:02AD CD 72 06                                call    sub_672
ROM:02B0 28 0B                                   jr      z, loc_2BD
ROM:02B2 78                                      ld      a, b
ROM:02B3 FE 05                                   cp      5
ROM:02B5 CA A4 00                                jp      z, loc_A4
ROM:02B8
ROM:02B8                         loc_2B8:                                ; CODE XREF: ROM:02BBj
ROM:02B8 CD 7C 06                                call    sub_67C
ROM:02BB 20 FB                                   jr      nz, loc_2B8
ROM:02BD
ROM:02BD                         loc_2BD:                                ; CODE XREF: ROM:02B0j
ROM:02BD 3A DE 2F                                ld      a, (byte_2FDE)
ROM:02C0 3C                                      inc     a
ROM:02C1 DD 74 00                                ld      (ix+0), h
ROM:02C4 DD 75 01                                ld      (ix+1), l
ROM:02C7
ROM:02C7                         loc_2C7:                                ; CODE XREF: ROM:02A8j
ROM:02C7 32 DE 2F                                ld      (byte_2FDE), a
ROM:02CA
ROM:02CA                         loc_2CA:                                ; CODE XREF: ROM:02D2j
ROM:02CA C3 C9 00                                jp      loc_C9
ROM:02CD                         ; ---------------------------------------------------------------------------
ROM:02CD 3A F5 2F                                ld      a, (byte_2FF5)
ROM:02D0 FE 01                                   cp      1
ROM:02D2 20 F6                                   jr      nz, loc_2CA
ROM:02D4 32 F1 2F                                ld      (byte_2FF1), a
ROM:02D7 3E 10                                   ld      a, 10h
ROM:02D9 32 F9 2F                                ld      (byte_2FF9), a
ROM:02DC 32 FA 2F                                ld      (byte_2FFA), a
ROM:02DF CD 59 06                                call    sub_659
ROM:02E2 4C                                      ld      c, h
ROM:02E3 ED 78                                   in      a, (c)
ROM:02E5 18 B0                                   jr      loc_297
ROM:02E7
ROM:02E7                         ; =============== S U B R O U T I N E =======================================
ROM:02E7
ROM:02E7
ROM:02E7                         sub_2E7:                                ; CODE XREF: sub_2E7:loc_FFp
ROM:02E7
ROM:02E7                         ; FUNCTION CHUNK AT ROM:00A9 SIZE 00000049 BYTES
ROM:02E7                         ; FUNCTION CHUNK AT ROM:00F6 SIZE 0000002D BYTES
ROM:02E7                         ; FUNCTION CHUNK AT ROM:0125 SIZE 00000003 BYTES
ROM:02E7
ROM:02E7 DD 21 F7 2F                             ld      ix, 2FF7h
ROM:02EB 3A F1 2F                                ld      a, (byte_2FF1)
ROM:02EE B7                                      or      a
ROM:02EF 20 24                                   jr      nz, loc_315
ROM:02F1 3A EF 2F                                ld      a, (byte_2FEF)
ROM:02F4 B7                                      or      a
ROM:02F5 20 2F                                   jr      nz, loc_326
ROM:02F7 3A F0 2F                                ld      a, (byte_2FF0)
ROM:02FA B7                                      or      a
ROM:02FB 20 71                                   jr      nz, loc_36E
ROM:02FD 3A F2 2F                                ld      a, (byte_2FF2)
ROM:0300 B7                                      or      a
ROM:0301 28 67                                   jr      z, loc_36A
ROM:0303 CD 59 06                                call    sub_659
ROM:0306 DD 7E 06                                ld      a, (ix+6)
ROM:0309 CD 80 03                                call    sub_380
ROM:030C DD B6 07                                or      (ix+7)
ROM:030F 77                                      ld      (hl), a
ROM:0310 7E                                      ld      a, (hl)
ROM:0311
ROM:0311                         loc_311:                                ; CODE XREF: sub_2E7+3Dj
ROM:0311                                                                 ; sub_2E7+54j ...
ROM:0311 CD 82 02                                call    sub_282
ROM:0314 C9                                      ret
ROM:0315                         ; ---------------------------------------------------------------------------
ROM:0315
ROM:0315                         loc_315:                                ; CODE XREF: sub_2E7+8j
ROM:0315 CD 59 06                                call    sub_659
ROM:0318 DD 7E 06                                ld      a, (ix+6)
ROM:031B CD 80 03                                call    sub_380
ROM:031E DD B6 07                                or      (ix+7)
ROM:0321 4C                                      ld      c, h
ROM:0322 ED 79                                   out     (c), a
ROM:0324 18 EB                                   jr      loc_311
ROM:0326                         ; ---------------------------------------------------------------------------
ROM:0326
ROM:0326                         loc_326:                                ; CODE XREF: sub_2E7+Ej
ROM:0326 21 D5 07                                ld      hl, 7D5h
ROM:0329 CD 89 03                                call    sub_389
ROM:032C 7B                                      ld      a, e
ROM:032D FE 06                                   cp      6
ROM:032F 38 0C                                   jr      c, loc_33D
ROM:0331 DD 7E 06                                ld      a, (ix+6)
ROM:0334 CD 80 03                                call    sub_380
ROM:0337 DD B6 07                                or      (ix+7)
ROM:033A 77                                      ld      (hl), a
ROM:033B 18 D4                                   jr      loc_311
ROM:033D                         ; ---------------------------------------------------------------------------
ROM:033D
ROM:033D                         loc_33D:                                ; CODE XREF: sub_2E7+48j
ROM:033D FE 03                                   cp      3
ROM:033F 28 1F                                   jr      z, loc_360
ROM:0341 FE 02                                   cp      2
ROM:0343 28 25                                   jr      z, loc_36A
ROM:0345 DD 7E 04                                ld      a, (ix+4)
ROM:0348 CD 80 03                                call    sub_380
ROM:034B DD B6 05                                or      (ix+5)
ROM:034E 23                                      inc     hl
ROM:034F 77                                      ld      (hl), a
ROM:0350 CD 7C 02                                call    sub_27C
ROM:0353 DD 7E 04                                ld      a, (ix+4)
ROM:0356 CD 80 03                                call    sub_380
ROM:0359 DD B6 05                                or      (ix+5)
ROM:035C 2B                                      dec     hl
ROM:035D 77                                      ld      (hl), a
ROM:035E 18 B1                                   jr      loc_311
ROM:0360                         ; ---------------------------------------------------------------------------
ROM:0360
ROM:0360                         loc_360:                                ; CODE XREF: sub_2E7+58j
ROM:0360 3A FE 2F                                ld      a, (byte_2FFE)
ROM:0363 32 DD 2F                                ld      (byte_2FDD), a
ROM:0366 32 FC 2F                                ld      (byte_2FFC), a
ROM:0369 C9                                      ret
ROM:036A                         ; ---------------------------------------------------------------------------
ROM:036A
ROM:036A                         loc_36A:                                ; CODE XREF: sub_2E7+1Aj
ROM:036A                                                                 ; sub_2E7+5Cj ...
ROM:036A E1                                      pop     hl
ROM:036B C3 A9 00                                jp      loc_A9
ROM:036E                         ; ---------------------------------------------------------------------------
ROM:036E
ROM:036E                         loc_36E:                                ; CODE XREF: sub_2E7+14j
ROM:036E 21 E5 07                                ld      hl, 7E5h
ROM:0371 CD 89 03                                call    sub_389
ROM:0374 DD 7E 06                                ld      a, (ix+6)
ROM:0377 CD 80 03                                call    sub_380
ROM:037A DD B6 07                                or      (ix+7)
ROM:037D 77                                      ld      (hl), a
ROM:037E 18 91                                   jr      loc_311
ROM:037E                         ; End of function sub_2E7
ROM:037E
ROM:0380
ROM:0380                         ; =============== S U B R O U T I N E =======================================
ROM:0380
ROM:0380
ROM:0380                         sub_380:                                ; CODE XREF: ROM:01D3p
ROM:0380                                                                 ; sub_2E7+22p ...
ROM:0380 CB 27                                   sla     a
ROM:0382 CB 27                                   sla     a
ROM:0384 CB 27                                   sla     a
ROM:0386 CB 27                                   sla     a
ROM:0388 C9                                      ret
ROM:0388                         ; End of function sub_380
ROM:0388
ROM:0389
ROM:0389                         ; =============== S U B R O U T I N E =======================================
ROM:0389
ROM:0389
ROM:0389                         sub_389:                                ; CODE XREF: ROM:0220p
ROM:0389                                                                 ; ROM:0232p ...
ROM:0389 DD 21 F7 2F                             ld      ix, 2FF7h
ROM:038D DD 5E 00                                ld      e, (ix+0)
ROM:0390 06 00                                   ld      b, 0
ROM:0392 50                                      ld      d, b
ROM:0393 19                                      add     hl, de
ROM:0394 4E                                      ld      c, (hl)
ROM:0395 79                                      ld      a, c
ROM:0396 FE 19                                   cp      19h
ROM:0398 28 D0                                   jr      z, loc_36A
ROM:039A 2A D9 2F                                ld      hl, (word_2FD9)
ROM:039D B7                                      or      a
ROM:039E ED 42                                   sbc     hl, bc
ROM:03A0 C9                                      ret
ROM:03A0                         ; End of function sub_389
ROM:03A0
ROM:03A1                         ; ---------------------------------------------------------------------------
ROM:03A1 CD 59 06                                call    sub_659
ROM:03A4 E5                                      push    hl
ROM:03A5 21 FF 2E                                ld      hl, 2EFFh
ROM:03A8 D1                                      pop     de
ROM:03A9 D5                                      push    de
ROM:03AA E5                                      push    hl
ROM:03AB AF                                      xor     a
ROM:03AC ED 52                                   sbc     hl, de
ROM:03AE E5                                      push    hl
ROM:03AF C1                                      pop     bc
ROM:03B0 D1                                      pop     de
ROM:03B1 D5                                      push    de
ROM:03B2 E1                                      pop     hl
ROM:03B3 2B                                      dec     hl
ROM:03B4 ED B8                                   lddr
ROM:03B6 E1                                      pop     hl
ROM:03B7 77                                      ld      (hl), a
ROM:03B8 23                                      inc     hl
ROM:03B9 C3 EF 01                                jp      loc_1EF
ROM:03BC                         ; ---------------------------------------------------------------------------
ROM:03BC 3E 01                                   ld      a, 1
ROM:03BE 32 F3 2F                                ld      (byte_2FF3), a
ROM:03C1 CD 59 06                                call    sub_659
ROM:03C4 E5                                      push    hl
ROM:03C5 C1                                      pop     bc
ROM:03C6 E5                                      push    hl
ROM:03C7 21 00 20                                ld      hl, 2000h
ROM:03CA 11 00 10                                ld      de, 1000h
ROM:03CD
ROM:03CD                         loc_3CD:                                ; CODE XREF: ROM:03E3j
ROM:03CD 3E 25                                   ld      a, 25h ; '%'
ROM:03CF D3 86                                   out     (86h), a
ROM:03D1 3E CB                                   ld      a, 0CBh ; '
ROM:03D3 D3 86                                   out     (86h), a
ROM:03D5 3E 80                                   ld      a, 80h ; '€'
ROM:03D7 D3 8C                                   out     (8Ch), a
ROM:03D9 ED A0                                   ldi
ROM:03DB 3E 00                                   ld      a, 0
ROM:03DD D3 8C                                   out     (8Ch), a
ROM:03DF 3E 03                                   ld      a, 3
ROM:03E1 D3 86                                   out     (86h), a
ROM:03E3 EA CD 03                                jp      pe, loc_3CD
ROM:03E6 C1                                      pop     bc
ROM:03E7 21 00 20                                ld      hl, 2000h
ROM:03EA 11 00 10                                ld      de, 1000h
ROM:03ED                         ; START OF FUNCTION CHUNK FOR sub_5F9
ROM:03ED
ROM:03ED                         loc_3ED:                                ; CODE XREF: sub_5F9-203j
ROM:03ED                                                                 ; ROM:0413j ...
ROM:03ED 1A                                      ld      a, (de)
ROM:03EE ED A1                                   cpi
ROM:03F0 20 06                                   jr      nz, loc_3F8
ROM:03F2 E2 A9 00                                jp      po, loc_A9
ROM:03F5 13                                      inc     de
ROM:03F6 18 F5                                   jr      loc_3ED
ROM:03F8                         ; ---------------------------------------------------------------------------
ROM:03F8
ROM:03F8                         loc_3F8:                                ; CODE XREF: sub_5F9-209j
ROM:03F8 F5                                      push    af
ROM:03F9 C5                                      push    bc
ROM:03FA D5                                      push    de
ROM:03FB D9                                      exx
ROM:03FC D1                                      pop     de
ROM:03FD C1                                      pop     bc
ROM:03FE 7A                                      ld      a, d
ROM:03FF DD 21 F7 2F                             ld      ix, 2FF7h
ROM:0403 CD 3C 06                                call    sub_63C
ROM:0406 7B                                      ld      a, e
ROM:0407 CD 7C 02                                call    sub_27C
ROM:040A F1                                      pop     af
ROM:040B CD 82 02                                call    sub_282
ROM:040E C3 C9 00                                jp      loc_C9
ROM:040E                         ; END OF FUNCTION CHUNK FOR sub_5F9
ROM:0411                         ; ---------------------------------------------------------------------------
ROM:0411
ROM:0411                         loc_411:                                ; CODE XREF: ROM:01AFj
ROM:0411 D9                                      exx
ROM:0412 13                                      inc     de
ROM:0413 18 D8                                   jr      loc_3ED
ROM:0415                         ; ---------------------------------------------------------------------------
ROM:0415 ED 5E                                   im      2
ROM:0417 21 FF 0F                                ld      hl, 0FFFh
ROM:041A 06 20                                   ld      b, 20h ; ' '
ROM:041C
ROM:041C                         loc_41C:                                ; CODE XREF: ROM:041Dj
ROM:041C                                                                 ; ROM:0420j ...
ROM:041C 2D                                      dec     l
ROM:041D 20 FD                                   jr      nz, loc_41C
ROM:041F 25                                      dec     h
ROM:0420 20 FA                                   jr      nz, loc_41C
ROM:0422 10 F8                                   djnz    loc_41C
ROM:0424
ROM:0424                         loc_424:                                ; CODE XREF: ROM:0429j
ROM:0424                                                                 ; ROM:045Ej
ROM:0424 CD 58 07                                call    sub_758
ROM:0427 D6 3A                                   sub     3Ah ; ':'
ROM:0429 20 F9                                   jr      nz, loc_424
ROM:042B 4F                                      ld      c, a
ROM:042C CD DB 06                                call    sub_6DB
ROM:042F 47                                      ld      b, a
ROM:0430 CD DB 06                                call    sub_6DB
ROM:0433 57                                      ld      d, a
ROM:0434 CD DB 06                                call    sub_6DB
ROM:0437 5F                                      ld      e, a
ROM:0438 CD DB 06                                call    sub_6DB
ROM:043B 3D                                      dec     a
ROM:043C F5                                      push    af
ROM:043D 28 07                                   jr      z, loc_446
ROM:043F
ROM:043F                         loc_43F:                                ; CODE XREF: ROM:0444j
ROM:043F CD DB 06                                call    sub_6DB
ROM:0442 12                                      ld      (de), a
ROM:0443 13                                      inc     de
ROM:0444 10 F9                                   djnz    loc_43F
ROM:0446
ROM:0446                         loc_446:                                ; CODE XREF: ROM:043Dj
ROM:0446 CD DB 06                                call    sub_6DB
ROM:0449 AF                                      xor     a
ROM:044A 81                                      add     a, c
ROM:044B 28 10                                   jr      z, loc_45D
ROM:044D 7A                                      ld      a, d
ROM:044E DD 21 F7 2F                             ld      ix, 2FF7h
ROM:0452 CD 3C 06                                call    sub_63C
ROM:0455 7B                                      ld      a, e
ROM:0456 CD 7C 02                                call    sub_27C
ROM:0459 F1                                      pop     af
ROM:045A C3 C9 00                                jp      loc_C9
ROM:045D                         ; ---------------------------------------------------------------------------
ROM:045D
ROM:045D                         loc_45D:                                ; CODE XREF: ROM:044Bj
ROM:045D F1                                      pop     af
ROM:045E 20 C4                                   jr      nz, loc_424
ROM:0460 C3 A9 00                                jp      loc_A9
ROM:0463                         ; ---------------------------------------------------------------------------
ROM:0463 3E 04                                   ld      a, 4
ROM:0465 C3 6A 04                                jp      loc_46A
ROM:0468                         ; ---------------------------------------------------------------------------
ROM:0468 3E 02                                   ld      a, 2
ROM:046A
ROM:046A                         loc_46A:                                ; CODE XREF: ROM:0465j
ROM:046A F5                                      push    af
ROM:046B 3E 11                                   ld      a, 11h
ROM:046D 32 FF 2F                                ld      (byte_2FFF), a
ROM:0470 CD 59 06                                call    sub_659
ROM:0473 F1                                      pop     af
ROM:0474 C3 CB 01                                jp      loc_1CB
ROM:0477                         ; ---------------------------------------------------------------------------
ROM:0477 ED 5E                                   im      2
ROM:0479 3E 01                                   ld      a, 1
ROM:047B 32 EE 2F                                ld      (byte_2FEE), a
ROM:047E 01 FA 07                                ld      bc, 7FAh
ROM:0481 78                                      ld      a, b
ROM:0482 ED 47                                   ld      i, a
ROM:0484 79                                      ld      a, c
ROM:0485 D3 84                                   out     (84h), a
ROM:0487 3E 85                                   ld      a, 85h ; '
ROM:0489 D3 85                                   out     (85h), a
ROM:048B 3E 1A                                   ld      a, 1Ah
ROM:048D D3 85                                   out     (85h), a
ROM:048F 3A C0 2F                                ld      a, (byte_2FC0)
ROM:0492 57                                      ld      d, a
ROM:0493 3A C1 2F                                ld      a, (byte_2FC1)
ROM:0496 5F                                      ld      e, a
ROM:0497 3A C2 2F                                ld      a, (byte_2FC2)
ROM:049A 67                                      ld      h, a
ROM:049B 3A C3 2F                                ld      a, (byte_2FC3)
ROM:049E 6F                                      ld      l, a
ROM:049F AF                                      xor     a
ROM:04A0 ED 52                                   sbc     hl, de
ROM:04A2 23                                      inc     hl
ROM:04A3 E5                                      push    hl
ROM:04A4 21 00 2E                                ld      hl, 2E00h
ROM:04A7 06 03                                   ld      b, 3
ROM:04A9 FB                                      ei
ROM:04AA
ROM:04AA                         loc_4AA:                                ; CODE XREF: ROM:04ACj
ROM:04AA                                                                 ; ROM:04AFj ...
ROM:04AA 76                                      halt
ROM:04AB 2D                                      dec     l
ROM:04AC 20 FC                                   jr      nz, loc_4AA
ROM:04AE 25                                      dec     h
ROM:04AF 20 F9                                   jr      nz, loc_4AA
ROM:04B1 10 F7                                   djnz    loc_4AA
ROM:04B3
ROM:04B3                         loc_4B3:                                ; CODE XREF: ROM:0502j
ROM:04B3 3E 3A                                   ld      a, 3Ah ; ':'
ROM:04B5 CD F7 06                                call    sub_6F7
ROM:04B8 AF                                      xor     a
ROM:04B9 01 10 00                                ld      bc, 10h
ROM:04BC E1                                      pop     hl
ROM:04BD ED 42                                   sbc     hl, bc
ROM:04BF 30 09                                   jr      nc, loc_4CA
ROM:04C1 09                                      add     hl, bc
ROM:04C2 85                                      add     a, l
ROM:04C3 47                                      ld      b, a
ROM:04C4 2E 00                                   ld      l, 0
ROM:04C6 28 3C                                   jr      z, loc_504
ROM:04C8 18 01                                   jr      loc_4CB
ROM:04CA                         ; ---------------------------------------------------------------------------
ROM:04CA
ROM:04CA                         loc_4CA:                                ; CODE XREF: ROM:04BFj
ROM:04CA 41                                      ld      b, c
ROM:04CB
ROM:04CB                         loc_4CB:                                ; CODE XREF: ROM:04C8j
ROM:04CB E5                                      push    hl
ROM:04CC 0E 00                                   ld      c, 0
ROM:04CE 78                                      ld      a, b
ROM:04CF CD D5 06                                call    sub_6D5
ROM:04D2 3A C0 2F                                ld      a, (byte_2FC0)
ROM:04D5 67                                      ld      h, a
ROM:04D6 CD D5 06                                call    sub_6D5
ROM:04D9 3A C1 2F                                ld      a, (byte_2FC1)
ROM:04DC 6F                                      ld      l, a
ROM:04DD CD D5 06                                call    sub_6D5
ROM:04E0 AF                                      xor     a
ROM:04E1 CD D5 06                                call    sub_6D5
ROM:04E4
ROM:04E4                         loc_4E4:                                ; CODE XREF: ROM:04E9j
ROM:04E4 7E                                      ld      a, (hl)
ROM:04E5 CD D5 06                                call    sub_6D5
ROM:04E8 23                                      inc     hl
ROM:04E9 10 F9                                   djnz    loc_4E4
ROM:04EB 97                                      sub     a
ROM:04EC 91                                      sub     c
ROM:04ED CD D5 06                                call    sub_6D5
ROM:04F0 3E 0D                                   ld      a, 0Dh
ROM:04F2 CD D5 06                                call    sub_6D5
ROM:04F5 3E 0A                                   ld      a, 0Ah
ROM:04F7 CD D5 06                                call    sub_6D5
ROM:04FA 7C                                      ld      a, h
ROM:04FB 32 C0 2F                                ld      (byte_2FC0), a
ROM:04FE 7D                                      ld      a, l
ROM:04FF 32 C1 2F                                ld      (byte_2FC1), a
ROM:0502 18 AF                                   jr      loc_4B3
ROM:0504                         ; ---------------------------------------------------------------------------
ROM:0504
ROM:0504                         loc_504:                                ; CODE XREF: ROM:04C6j
ROM:0504 06 03                                   ld      b, 3
ROM:0506
ROM:0506                         loc_506:                                ; CODE XREF: ROM:050Bj
ROM:0506 AF                                      xor     a
ROM:0507 4F                                      ld      c, a
ROM:0508 CD D5 06                                call    sub_6D5
ROM:050B 10 F9                                   djnz    loc_506
ROM:050D 3E 01                                   ld      a, 1
ROM:050F CD D5 06                                call    sub_6D5
ROM:0512 97                                      sub     a
ROM:0513 91                                      sub     c
ROM:0514 CD D5 06                                call    sub_6D5
ROM:0517 21 FF FF                                ld      hl, 0FFFFh
ROM:051A FB                                      ei
ROM:051B 76                                      halt
ROM:051C
ROM:051C                         loc_51C:                                ; CODE XREF: ROM:051Dj
ROM:051C                                                                 ; ROM:0520j
ROM:051C 2D                                      dec     l
ROM:051D 20 FD                                   jr      nz, loc_51C
ROM:051F 25                                      dec     h
ROM:0520 20 FA                                   jr      nz, loc_51C
ROM:0522 F3                                      di
ROM:0523 3E 03                                   ld      a, 3
ROM:0525 D3 85                                   out     (85h), a
ROM:0527 C3 A9 00                                jp      loc_A9
ROM:052A                         ; ---------------------------------------------------------------------------
ROM:052A 21 30 05                                ld      hl, 530h
ROM:052D
ROM:052D                         loc_52D:                                ; CODE XREF: ROM:0551j
ROM:052D                                                                 ; ROM:0556j ...
ROM:052D C3 3A 01                                jp      loc_13A
ROM:0530                         ; ---------------------------------------------------------------------------
ROM:0530 DD E5                                   push    ix
ROM:0532 C1                                      pop     bc
ROM:0533 FD E5                                   push    iy
ROM:0535 E1                                      pop     hl
ROM:0536 23                                      inc     hl
ROM:0537 E5                                      push    hl
ROM:0538 D1                                      pop     de
ROM:0539 13                                      inc     de
ROM:053A 79                                      ld      a, c
ROM:053B 93                                      sub     e
ROM:053C 5F                                      ld      e, a
ROM:053D 77                                      ld      (hl), a
ROM:053E 78                                      ld      a, b
ROM:053F 9A                                      sbc     a, d
ROM:0540 DD 21 F7 2F                             ld      ix, 2FF7h
ROM:0544 CD 3C 06                                call    sub_63C
ROM:0547 7B                                      ld      a, e
ROM:0548 CD 82 02                                call    sub_282
ROM:054B C3 C9 00                                jp      loc_C9
ROM:054E                         ; ---------------------------------------------------------------------------
ROM:054E 2A BE 2F                                ld      hl, (word_2FBE)
ROM:0551 18 DA                                   jr      loc_52D
ROM:0553                         ; ---------------------------------------------------------------------------
ROM:0553 2A BC 2F                                ld      hl, (word_2FBC)
ROM:0556 18 D5                                   jr      loc_52D
ROM:0558                         ; ---------------------------------------------------------------------------
ROM:0558 2A BA 2F                                ld      hl, (word_2FBA)
ROM:055B 18 D0                                   jr      loc_52D
ROM:055D                         ; ---------------------------------------------------------------------------
ROM:055D 2A B8 2F                                ld      hl, (word_2FB8)
ROM:0560 18 CB                                   jr      loc_52D
ROM:0562                         ; ---------------------------------------------------------------------------
ROM:0562 28 01                                   jr      z, loc_565
ROM:0564 6F                                      ld      l, a
ROM:0565
ROM:0565                         loc_565:                                ; CODE XREF: ROM:0562j
ROM:0565 01 A3 01                                ld      bc, 1A3h
ROM:0568 A6                                      and     (hl)
ROM:0569 01 AB 01                                ld      bc, 1ABh
ROM:056C 13                                      inc     de
ROM:056D 02                                      ld      (bc), a
ROM:056E 2A 02 8A                                ld      hl, (8A02h)
ROM:0571 02                                      ld      (bc), a
ROM:0572 A4                                      and     h
ROM:0573 02                                      ld      (bc), a
ROM:0574 CD 02 A1                                call    0A102h
ROM:0577 03                                      inc     bc
ROM:0578 BC                                      cp      h
ROM:0579 03                                      inc     bc
ROM:057A 63                                      ld      h, e
ROM:057B 04                                      inc     b
ROM:057C 68                                      ld      l, b
ROM:057D 04                                      inc     b
ROM:057E A3                                      and     e
ROM:057F 01 A6 01                                ld      bc, 1A6h
ROM:0582 15                                      dec     d
ROM:0583 04                                      inc     b
ROM:0584 77                                      ld      (hl), a
ROM:0585 04                                      inc     b
ROM:0586 18 02                                   jr      loc_58A
ROM:0586                         ; ---------------------------------------------------------------------------
ROM:0588 2A 05                                   db 2Ah, 5
ROM:058A                         ; ---------------------------------------------------------------------------
ROM:058A
ROM:058A                         loc_58A:                                ; CODE XREF: ROM:0586j
ROM:058A 4E                                      ld      c, (hl)
ROM:058B 05                                      dec     b
ROM:058C 53                                      ld      d, e
ROM:058D 05                                      dec     b
ROM:058E 58                                      ld      e, b
ROM:058F 05                                      dec     b
ROM:0590 5D                                      ld      e, l
ROM:0591 05                                      dec     b
ROM:0592
ROM:0592                         ; =============== S U B R O U T I N E =======================================
ROM:0592
ROM:0592
ROM:0592                         sub_592:                                ; CODE XREF: sub_2E7:loc_C9p
ROM:0592                                                                 ; sub_684+17p
ROM:0592 11 A6 07                                ld      de, 7A6h
ROM:0595 21 F7 2F                                ld      hl, 2FF7h
ROM:0598 06 20                                   ld      b, 20h ; ' '
ROM:059A
ROM:059A                         loc_59A:                                ; CODE XREF: sub_592+21j
ROM:059A D5                                      push    de
ROM:059B 7E                                      ld      a, (hl)
ROM:059C 83                                      add     a, e
ROM:059D 5F                                      ld      e, a
ROM:059E 30 01                                   jr      nc, loc_5A1
ROM:05A0 14                                      inc     d
ROM:05A1
ROM:05A1                         loc_5A1:                                ; CODE XREF: sub_592+Cj
ROM:05A1 1A                                      ld      a, (de)
ROM:05A2 D3 88                                   out     (88h), a
ROM:05A4 78                                      ld      a, b
ROM:05A5 D3 8C                                   out     (8Ch), a
ROM:05A7 1E 7D                                   ld      e, 7Dh ; '}'
ROM:05A9
ROM:05A9                         loc_5A9:                                ; CODE XREF: sub_592+18j
ROM:05A9 1D                                      dec     e
ROM:05AA 20 FD                                   jr      nz, loc_5A9
ROM:05AC D1                                      pop     de
ROM:05AD CB 40                                   bit     0, b
ROM:05AF C0                                      ret     nz
ROM:05B0 23                                      inc     hl
ROM:05B1 CB 38                                   srl     b
ROM:05B3 18 E5                                   jr      loc_59A
ROM:05B3                         ; End of function sub_592
ROM:05B3
ROM:05B5                         ; ---------------------------------------------------------------------------
ROM:05B5 F3                                      di
ROM:05B6
ROM:05B6                         ; =============== S U B R O U T I N E =======================================
ROM:05B6
ROM:05B6
ROM:05B6                         sub_5B6:                                ; CODE XREF: sub_2E7:loc_CCp
ROM:05B6 3E 7F                                   ld      a, 7Fh ; ''
ROM:05B8 D3 88                                   out     (88h), a
ROM:05BA 3E 3F                                   ld      a, 3Fh ; '?'
ROM:05BC D3 8C                                   out     (8Ch), a
ROM:05BE DB 90                                   in      a, (90h)
ROM:05C0 E6 1F                                   and     1Fh
ROM:05C2 FE 1F                                   cp      1Fh
ROM:05C4 28 18                                   jr      z, loc_5DE
ROM:05C6 CD 4F 06                                call    sub_64F
ROM:05C9 0E 8C                                   ld      c, 8Ch ; '
ROM:05CB 06 01                                   ld      b, 1
ROM:05CD
ROM:05CD                         loc_5CD:                                ; CODE XREF: sub_5B6+26j
ROM:05CD ED 41                                   out     (c), b
ROM:05CF DB 90                                   in      a, (90h)
ROM:05D1 E6 1F                                   and     1Fh
ROM:05D3 FE 1F                                   cp      1Fh
ROM:05D5 20 09                                   jr      nz, loc_5E0
ROM:05D7 CB 20                                   sla     b
ROM:05D9 3E 40                                   ld      a, 40h ; '@'
ROM:05DB B8                                      cp      b
ROM:05DC 20 EF                                   jr      nz, loc_5CD
ROM:05DE
ROM:05DE                         loc_5DE:                                ; CODE XREF: sub_5B6+Ej
ROM:05DE B7                                      or      a
ROM:05DF C9                                      ret
ROM:05E0                         ; ---------------------------------------------------------------------------
ROM:05E0
ROM:05E0                         loc_5E0:                                ; CODE XREF: sub_5B6+1Fj
ROM:05E0 0E 00                                   ld      c, 0
ROM:05E2
ROM:05E2                         loc_5E2:                                ; CODE XREF: sub_5B6+2Fj
ROM:05E2 0D                                      dec     c
ROM:05E3 CB 38                                   srl     b
ROM:05E5 20 FB                                   jr      nz, loc_5E2
ROM:05E7 CB 21                                   sla     c
ROM:05E9 CB 21                                   sla     c
ROM:05EB CB 21                                   sla     c
ROM:05ED CB 21                                   sla     c
ROM:05EF 81                                      add     a, c
ROM:05F0 21 B9 07                                ld      hl, 7B9h
ROM:05F3
ROM:05F3                         loc_5F3:                                ; CODE XREF: sub_5B6+41j
ROM:05F3 BE                                      cp      (hl)
ROM:05F4 C8                                      ret     z
ROM:05F5 23                                      inc     hl
ROM:05F6 04                                      inc     b
ROM:05F7 18 FA                                   jr      loc_5F3
ROM:05F7                         ; End of function sub_5B6
ROM:05F7
ROM:05F9
ROM:05F9                         ; =============== S U B R O U T I N E =======================================
ROM:05F9
ROM:05F9
ROM:05F9                         sub_5F9:                                ; CODE XREF: sub_2E7-216p
ROM:05F9
ROM:05F9                         ; FUNCTION CHUNK AT ROM:03ED SIZE 00000024 BYTES
ROM:05F9
ROM:05F9 F5                                      push    af
ROM:05FA
ROM:05FA                         loc_5FA:                                ; CODE XREF: sub_5F9+7j
ROM:05FA DB 90                                   in      a, (90h)
ROM:05FC E6 1F                                   and     1Fh
ROM:05FE FE 1F                                   cp      1Fh
ROM:0600 20 F8                                   jr      nz, loc_5FA
ROM:0602 18 03                                   jr      loc_607
ROM:0604                         ; ---------------------------------------------------------------------------
ROM:0604 C3 ED 03                                jp      loc_3ED
ROM:0607                         ; ---------------------------------------------------------------------------
ROM:0607
ROM:0607                         loc_607:                                ; CODE XREF: sub_5F9+9j
ROM:0607 CD 4F 06                                call    sub_64F
ROM:060A F1                                      pop     af
ROM:060B C9                                      ret
ROM:060B                         ; End of function sub_5F9
ROM:060B
ROM:060C
ROM:060C                         ; =============== S U B R O U T I N E =======================================
ROM:060C
ROM:060C
ROM:060C                         sub_60C:                                ; CODE XREF: sub_0:loc_13p
ROM:060C                                                                 ; sub_0+6Bp
ROM:060C F1                                      pop     af
ROM:060D C5                                      push    bc
ROM:060E F5                                      push    af
ROM:060F C1                                      pop     bc
ROM:0610 3E 03                                   ld      a, 3
ROM:0612 D3 86                                   out     (86h), a
ROM:0614 ED 57                                   ld      a, i
ROM:0616 F3                                      di
ROM:0617 D5                                      push    de
ROM:0618 E5                                      push    hl
ROM:0619 F5                                      push    af
ROM:061A 08                                      ex      af, af'
ROM:061B D9                                      exx
ROM:061C F5                                      push    af
ROM:061D C5                                      push    bc
ROM:061E D5                                      push    de
ROM:061F E5                                      push    hl
ROM:0620 DD E5                                   push    ix
ROM:0622 FD E5                                   push    iy
ROM:0624 DD 2A D9 2F                             ld      ix, (word_2FD9)
ROM:0628 DD 23                                   inc     ix
ROM:062A DD 23                                   inc     ix
ROM:062C DD 22 D9 2F                             ld      (word_2FD9), ix
ROM:0630 DD 7E F4                                ld      a, (ix+0F4h)
ROM:0633 E6 04                                   and     4
ROM:0635 32 DD 2F                                ld      (byte_2FDD), a
ROM:0638 D9                                      exx
ROM:0639 C5                                      push    bc
ROM:063A D9                                      exx
ROM:063B C9                                      ret
ROM:063B                         ; End of function sub_60C
ROM:063B
ROM:063C
ROM:063C                         ; =============== S U B R O U T I N E =======================================
ROM:063C
ROM:063C
ROM:063C                         sub_63C:                                ; CODE XREF: sub_0:loc_81p
ROM:063C                                                                 ; ROM:01F0p ...
ROM:063C 47                                      ld      b, a
ROM:063D E6 0F                                   and     0Fh
ROM:063F DD 77 01                                ld      (ix+1), a
ROM:0642 78                                      ld      a, b
ROM:0643 CB 3F                                   srl     a
ROM:0645 CB 3F                                   srl     a
ROM:0647 CB 3F                                   srl     a
ROM:0649 CB 3F                                   srl     a
ROM:064B DD 77 00                                ld      (ix+0), a
ROM:064E C9                                      ret
ROM:064E                         ; End of function sub_63C
ROM:064E
ROM:064F
ROM:064F                         ; =============== S U B R O U T I N E =======================================
ROM:064F
ROM:064F
ROM:064F                         sub_64F:                                ; CODE XREF: sub_5B6+10p
ROM:064F                                                                 ; sub_5F9:loc_607p
ROM:064F 21 FF 0A                                ld      hl, 0AFFh
ROM:0652
ROM:0652                         loc_652:                                ; CODE XREF: sub_64F+4j
ROM:0652                                                                 ; sub_64F+7j
ROM:0652 2D                                      dec     l
ROM:0653 20 FD                                   jr      nz, loc_652
ROM:0655 25                                      dec     h
ROM:0656 20 FA                                   jr      nz, loc_652
ROM:0658 C9                                      ret
ROM:0658                         ; End of function sub_64F
ROM:0658
ROM:0659
ROM:0659                         ; =============== S U B R O U T I N E =======================================
ROM:0659
ROM:0659
ROM:0659                         sub_659:                                ; CODE XREF: ROM:0137p
ROM:0659                                                                 ; ROM:01B2p ...
ROM:0659 DD 21 F7 2F                             ld      ix, 2FF7h
ROM:065D DD 7E 00                                ld      a, (ix+0)
ROM:0660 CD 80 03                                call    sub_380
ROM:0663 DD B6 01                                or      (ix+1)
ROM:0666 67                                      ld      h, a
ROM:0667 DD 7E 02                                ld      a, (ix+2)
ROM:066A CD 80 03                                call    sub_380
ROM:066D DD B6 03                                or      (ix+3)
ROM:0670 6F                                      ld      l, a
ROM:0671 C9                                      ret
ROM:0671                         ; End of function sub_659
ROM:0671
ROM:0672
ROM:0672                         ; =============== S U B R O U T I N E =======================================
ROM:0672
ROM:0672
ROM:0672                         sub_672:                                ; CODE XREF: sub_0:loc_3Bp
ROM:0672                                                                 ; sub_0+79p ...
ROM:0672 DD 21 DF 2F                             ld      ix, 2FDFh
ROM:0676 3A DE 2F                                ld      a, (byte_2FDE)
ROM:0679 B7                                      or      a
ROM:067A 47                                      ld      b, a
ROM:067B C9                                      ret
ROM:067B                         ; End of function sub_672
ROM:067B
ROM:067C
ROM:067C                         ; =============== S U B R O U T I N E =======================================
ROM:067C
ROM:067C
ROM:067C                         sub_67C:                                ; CODE XREF: sub_0:loc_4Ep
ROM:067C                                                                 ; sub_0+15Cp ...
ROM:067C DD 23                                   inc     ix
ROM:067E DD 23                                   inc     ix
ROM:0680 DD 23                                   inc     ix
ROM:0682 05                                      dec     b
ROM:0683 C9                                      ret
ROM:0683                         ; End of function sub_67C
ROM:0683
ROM:0684
ROM:0684                         ; =============== S U B R O U T I N E =======================================
ROM:0684
ROM:0684
ROM:0684                         sub_684:                                ; CODE XREF: sub_0+A1p
ROM:0684 21 AA 06                                ld      hl, 6AAh
ROM:0687 11 F7 2F                                ld      de, 2FF7h
ROM:068A 3E 01                                   ld      a, 1
ROM:068C 12                                      ld      (de), a
ROM:068D 06 09                                   ld      b, 9
ROM:068F
ROM:068F                         loc_68F:                                ; CODE XREF: sub_684+23j
ROM:068F C5                                      push    bc
ROM:0690 D5                                      push    de
ROM:0691 01 09 00                                ld      bc, 9
ROM:0694 ED B0                                   ldir
ROM:0696 1B                                      dec     de
ROM:0697 12                                      ld      (de), a
ROM:0698 06 20                                   ld      b, 20h ; ' '
ROM:069A
ROM:069A                         loc_69A:                                ; CODE XREF: sub_684+1Bj
ROM:069A C5                                      push    bc
ROM:069B CD 92 05                                call    sub_592
ROM:069E C1                                      pop     bc
ROM:069F 10 F9                                   djnz    loc_69A
ROM:06A1 D1                                      pop     de
ROM:06A2 1A                                      ld      a, (de)
ROM:06A3 21 F8 2F                                ld      hl, 2FF8h
ROM:06A6 C1                                      pop     bc
ROM:06A7 10 E6                                   djnz    loc_68F
ROM:06A9 C9                                      ret
ROM:06A9                         ; End of function sub_684
ROM:06A9
ROM:06A9                         ; ---------------------------------------------------------------------------
ROM:06AA 10                                      db  10h
ROM:06AB 10                                      db  10h
ROM:06AC 10 10 10 10 08 00 01                    db [ 4 ], 10h
ROM:06AC                                         db 8, 0, 1
ROM:06B3
ROM:06B3                         ; =============== S U B R O U T I N E =======================================
ROM:06B3
ROM:06B3
ROM:06B3                         sub_6B3:                                ; CODE XREF: sub_6DB+4p
ROM:06B3                                                                 ; sub_6DB+Fp
ROM:06B3 D6 30                                   sub     30h ; '0'
ROM:06B5 FE 0A                                   cp      0Ah
ROM:06B7 F8                                      ret     m
ROM:06B8 D6 07                                   sub     7
ROM:06BA C9                                      ret
ROM:06BA                         ; End of function sub_6B3
ROM:06BA
ROM:06BB
ROM:06BB                         ; =============== S U B R O U T I N E =======================================
ROM:06BB
ROM:06BB
ROM:06BB                         sub_6BB:                                ; CODE XREF: sub_6F4p
ROM:06BB E6 0F                                   and     0Fh
ROM:06BD C6 90                                   add     a, 90h ; '
ROM:06BF 27                                      daa
ROM:06C0 CE 40                                   adc     a, 40h ; '@'
ROM:06C2 27                                      daa
ROM:06C3 C9                                      ret
ROM:06C3                         ; End of function sub_6BB
ROM:06C3
ROM:06C4                         ; ---------------------------------------------------------------------------
ROM:06C4                         ; START OF FUNCTION CHUNK FOR sub_6D5
ROM:06C4
ROM:06C4                         loc_6C4:                                ; CODE XREF: sub_6D5+4j
ROM:06C4 D9                                      exx
ROM:06C5 F5                                      push    af
ROM:06C6 0F                                      rrca
ROM:06C7 0F                                      rrca
ROM:06C8 0F                                      rrca
ROM:06C9 0F                                      rrca
ROM:06CA CD F4 06                                call    sub_6F4
ROM:06CD F1                                      pop     af
ROM:06CE E6 0F                                   and     0Fh
ROM:06D0 CD F4 06                                call    sub_6F4
ROM:06D3 D9                                      exx
ROM:06D4 C9                                      ret
ROM:06D4                         ; END OF FUNCTION CHUNK FOR sub_6D5
ROM:06D5
ROM:06D5                         ; =============== S U B R O U T I N E =======================================
ROM:06D5
ROM:06D5
ROM:06D5                         sub_6D5:                                ; CODE XREF: ROM:04CFp
ROM:06D5                                                                 ; ROM:04D6p ...
ROM:06D5
ROM:06D5                         ; FUNCTION CHUNK AT ROM:06C4 SIZE 00000011 BYTES
ROM:06D5
ROM:06D5 F5                                      push    af
ROM:06D6 81                                      add     a, c
ROM:06D7 4F                                      ld      c, a
ROM:06D8 F1                                      pop     af
ROM:06D9 18 E9                                   jr      loc_6C4
ROM:06D9                         ; End of function sub_6D5
ROM:06D9
ROM:06DB
ROM:06DB                         ; =============== S U B R O U T I N E =======================================
ROM:06DB
ROM:06DB
ROM:06DB                         sub_6DB:                                ; CODE XREF: ROM:042Cp
ROM:06DB                                                                 ; ROM:0430p ...
ROM:06DB C5                                      push    bc
ROM:06DC CD 58 07                                call    sub_758
ROM:06DF CD B3 06                                call    sub_6B3
ROM:06E2 07                                      rlca
ROM:06E3 07                                      rlca
ROM:06E4 07                                      rlca
ROM:06E5 07                                      rlca
ROM:06E6 4F                                      ld      c, a
ROM:06E7 CD 58 07                                call    sub_758
ROM:06EA CD B3 06                                call    sub_6B3
ROM:06ED B1                                      or      c
ROM:06EE C1                                      pop     bc
ROM:06EF F5                                      push    af
ROM:06F0 81                                      add     a, c
ROM:06F1 4F                                      ld      c, a
ROM:06F2 F1                                      pop     af
ROM:06F3 C9                                      ret
ROM:06F3                         ; End of function sub_6DB
ROM:06F3
ROM:06F4
ROM:06F4                         ; =============== S U B R O U T I N E =======================================
ROM:06F4
ROM:06F4
ROM:06F4                         sub_6F4:                                ; CODE XREF: sub_6D5-Bp
ROM:06F4                                                                 ; sub_6D5-5p
ROM:06F4 CD BB 06                                call    sub_6BB
ROM:06F4                         ; End of function sub_6F4
ROM:06F4
ROM:06F7
ROM:06F7                         ; =============== S U B R O U T I N E =======================================
ROM:06F7
ROM:06F7
ROM:06F7                         sub_6F7:                                ; CODE XREF: ROM:04B5p
ROM:06F7 FB                                      ei
ROM:06F8 57                                      ld      d, a
ROM:06F9 3E 10                                   ld      a, 10h
ROM:06FB 2E 0A                                   ld      l, 0Ah
ROM:06FD CB 12                                   rl      d
ROM:06FF
ROM:06FF                         loc_6FF:                                ; CODE XREF: sub_6F7+Aj
ROM:06FF FE 01                                   cp      1
ROM:0701 20 FC                                   jr      nz, loc_6FF
ROM:0703 47                                      ld      b, a
ROM:0704 3E 00                                   ld      a, 0
ROM:0706 32 EE 2F                                ld      (byte_2FEE), a
ROM:0709 78                                      ld      a, b
ROM:070A
ROM:070A                         loc_70A:                                ; CODE XREF: sub_6F7+30j
ROM:070A                                                                 ; sub_6F7+39j
ROM:070A 76                                      halt
ROM:070B 37                                      scf
ROM:070C CB 1A                                   rr      d
ROM:070E 2D                                      dec     l
ROM:070F 20 07                                   jr      nz, loc_718
ROM:0711 3E 01                                   ld      a, 1
ROM:0713 32 EE 2F                                ld      (byte_2FEE), a
ROM:0716 F3                                      di
ROM:0717 C9                                      ret
ROM:0718                         ; ---------------------------------------------------------------------------
ROM:0718
ROM:0718                         loc_718:                                ; CODE XREF: sub_6F7+18j
ROM:0718                                                                 ; sub_6F7+23j
ROM:0718 FE 01                                   cp      1
ROM:071A 20 FC                                   jr      nz, loc_718
ROM:071C CB 42                                   bit     0, d
ROM:071E 20 09                                   jr      nz, loc_729
ROM:0720 47                                      ld      b, a
ROM:0721 3E 00                                   ld      a, 0
ROM:0723 32 EE 2F                                ld      (byte_2FEE), a
ROM:0726 78                                      ld      a, b
ROM:0727 18 E1                                   jr      loc_70A
ROM:0729                         ; ---------------------------------------------------------------------------
ROM:0729
ROM:0729                         loc_729:                                ; CODE XREF: sub_6F7+27j
ROM:0729 47                                      ld      b, a
ROM:072A 3E 01                                   ld      a, 1
ROM:072C 32 EE 2F                                ld      (byte_2FEE), a
ROM:072F 78                                      ld      a, b
ROM:0730 18 D8                                   jr      loc_70A
ROM:0730                         ; End of function sub_6F7
ROM:0730
ROM:0732                         ; ---------------------------------------------------------------------------
ROM:0732 3D                                      dec     a
ROM:0733 20 20                                   jr      nz, loc_755
ROM:0735 DD 21 EE 2F                             ld      ix, 2FEEh
ROM:0739 DD CB 00 46                             bit     0, (ix+0)
ROM:073D 20 0C                                   jr      nz, loc_74B
ROM:073F 3E 85                                   ld      a, 85h ; '
ROM:0741 D3 85                                   out     (85h), a
ROM:0743 3E 34                                   ld      a, 34h ; '4'
ROM:0745 D3 85                                   out     (85h), a
ROM:0747 3E 08                                   ld      a, 8
ROM:0749 18 0A                                   jr      loc_755
ROM:074B                         ; ---------------------------------------------------------------------------
ROM:074B
ROM:074B                         loc_74B:                                ; CODE XREF: ROM:073Dj
ROM:074B 3E 85                                   ld      a, 85h ; '
ROM:074D D3 85                                   out     (85h), a
ROM:074F 3E 1A                                   ld      a, 1Ah
ROM:0751 D3 85                                   out     (85h), a
ROM:0753 3E 10                                   ld      a, 10h
ROM:0755
ROM:0755                         loc_755:                                ; CODE XREF: ROM:0733j
ROM:0755                                                                 ; ROM:0749j
ROM:0755 FB                                      ei
ROM:0756 ED 4D                                   reti
ROM:0758
ROM:0758                         ; =============== S U B R O U T I N E =======================================
ROM:0758
ROM:0758
ROM:0758                         sub_758:                                ; CODE XREF: ROM:loc_424p
ROM:0758                                                                 ; sub_6DB+1p ...
ROM:0758 21 FE 07                                ld      hl, 7FEh
ROM:075B 7C                                      ld      a, h
ROM:075C ED 47                                   ld      i, a
ROM:075E 7D                                      ld      a, l
ROM:075F D3 84                                   out     (84h), a
ROM:0761
ROM:0761                         loc_761:                                ; CODE XREF: sub_758+42j
ROM:0761 06 08                                   ld      b, 8
ROM:0763 FB                                      ei
ROM:0764 AF                                      xor     a
ROM:0765 26 00                                   ld      h, 0
ROM:0767
ROM:0767                         loc_767:                                ; CODE XREF: sub_758+13j
ROM:0767 DB 90                                   in      a, (90h)
ROM:0769 CB 7F                                   bit     7, a
ROM:076B 20 FA                                   jr      nz, loc_767
ROM:076D 3E A5                                   ld      a, 0A5h ; '
ROM:076F D3 87                                   out     (87h), a
ROM:0771 3E 0D                                   ld      a, 0Dh
ROM:0773 D3 87                                   out     (87h), a
ROM:0775 3E A5                                   ld      a, 0A5h ; '
ROM:0777 D3 87                                   out     (87h), a
ROM:0779 3E 1A                                   ld      a, 1Ah
ROM:077B D3 87                                   out     (87h), a
ROM:077D 76                                      halt
ROM:077E CB 7F                                   bit     7, a
ROM:0780 20 14                                   jr      nz, loc_796
ROM:0782
ROM:0782                         loc_782:                                ; CODE XREF: sub_758+4Bj
ROM:0782 76                                      halt
ROM:0783 E6 80                                   and     80h ; '€'
ROM:0785 B4                                      or      h
ROM:0786 67                                      ld      h, a
ROM:0787 10 18                                   djnz    loc_7A1
ROM:0789 CB 7F                                   bit     7, a
ROM:078B 28 09                                   jr      z, loc_796
ROM:078D F3                                      di
ROM:078E 3E 03                                   ld      a, 3
ROM:0790 D3 87                                   out     (87h), a
ROM:0792 7C                                      ld      a, h
ROM:0793 E6 7F                                   and     7Fh ; ''
ROM:0795 C9                                      ret
ROM:0796                         ; ---------------------------------------------------------------------------
ROM:0796
ROM:0796                         loc_796:                                ; CODE XREF: sub_758+28j
ROM:0796                                                                 ; sub_758+33j
ROM:0796 3E 03                                   ld      a, 3
ROM:0798 D3 87                                   out     (87h), a
ROM:079A 18 C5                                   jr      loc_761
ROM:079C                         ; ---------------------------------------------------------------------------
ROM:079C DB 90                                   in      a, (90h)
ROM:079E FB                                      ei
ROM:079F ED 4D                                   reti
ROM:07A1                         ; ---------------------------------------------------------------------------
ROM:07A1
ROM:07A1                         loc_7A1:                                ; CODE XREF: sub_758+2Fj
ROM:07A1 CB 0C                                   rrc     h
ROM:07A3 18 DD                                   jr      loc_782
ROM:07A3                         ; End of function sub_758
ROM:07A3
ROM:07A3                         ; ---------------------------------------------------------------------------
ROM:07A5 3F                                      db  3Fh ; ?
ROM:07A6 40                                      db  40h ; @
ROM:07A7 79                                      db  79h ; y
ROM:07A8 24                                      db  24h ; $
ROM:07A9 30                                      db  30h ; 0
ROM:07AA 19                                      db  19h
ROM:07AB 12                                      db  12h
ROM:07AC 02                                      db    2
ROM:07AD 78                                      db  78h ; x
ROM:07AE 00                                      db    0
ROM:07AF 18                                      db  18h
ROM:07B0 08                                      db    8
ROM:07B1 03 46 21 06 0E 7F 0C 5F+                db 3, 46h, 21h, 6, 0Eh, 7Fh, 0Ch, 5Fh, 0FFh, 0EFh, 0F7h
ROM:07B1 FF EF F7 FB DF E7 EB CF+                db 0FBh, 0DFh, 0E7h, 0EBh, 0CFh, 0D7h, 0DBh, 0DDh, 0EDh
ROM:07B1 D7 DB DD ED FD 0D 0B 07+                db 0FDh, 0Dh, 0Bh, 7, 0Eh, 0FEh, 0EEh, 0DEh, 0CDh, 0CBh
ROM:07B1 0E FE EE DE CD CB C7 BF+                db 0C7h, 0BFh, 0BDh, 0BBh, 0B7h, 0AFh, 19h
ROM:07B1 BD BB B7 AF 19 02 02 0C+                db [ 2 ], 2
ROM:07B1 16 18 0B 09 0A 19 03 05+                db 0Ch, 16h, 18h, 0Bh, 9, 0Ah, 19h, 3, 5, 6, 7, 8, 4
ROM:07B1 06 07 08 04 19 19 19 19+                db [ 7 ], 19h
ROM:07B1 19 19 19 13 14 19 0D 0F+                db 13h, 14h, 19h, 0Dh, 0Fh, 10h, 11h, 12h, 0Eh
ROM:07B1 10 11 12 0E 19 19 19 D6+                db [ 3 ], 19h
ROM:07B1 2F 32 07 03 08 9C 07                    db 0D6h, 2Fh, 32h, 7, 3, 8, 9Ch, 7
ROM:07B1                         ; end of 'ROM'
ROM:07B1
RAM:2000                         ; ===========================================================================
RAM:2000
RAM:2000                         ; Segment type: Regular
RAM:2000                                         segment RAM
RAM:2000                                         org 2000h

RAM:2FB8 ?? ??                   word_2FB8:      ds 2                    ; DATA XREF: ROM:055Dr
RAM:2FBA ?? ??                   word_2FBA:      ds 2                    ; DATA XREF: ROM:0558r
RAM:2FBC ?? ??                   word_2FBC:      ds 2                    ; DATA XREF: ROM:0553r
RAM:2FBE ?? ??                   word_2FBE:      ds 2                    ; DATA XREF: ROM:054Er
RAM:2FC0 ??                      byte_2FC0:      ds 1                    ; DATA XREF: ROM:048Fr
RAM:2FC0                                                                 ; ROM:04D2r ...
RAM:2FC1 ??                      byte_2FC1:      ds 1                    ; DATA XREF: ROM:0493r
RAM:2FC1                                                                 ; ROM:04D9r ...
RAM:2FC2 ??                      byte_2FC2:      ds 1                    ; DATA XREF: ROM:0497r
RAM:2FC3 ??                      byte_2FC3:      ds 1                    ; DATA XREF: ROM:049Br
RAM:2FC4 ??                                      ds 1
RAM:2FC5 ??                                      ds 1
RAM:2FC6 ??                                      ds 1
RAM:2FC7 ??                                      ds 1
RAM:2FC8 ??                                      ds 1
RAM:2FC9 ??                                      ds 1
RAM:2FCA ??                                      ds 1
RAM:2FCB ??                                      ds 1
RAM:2FCC ??                                      ds 1
RAM:2FCD ??                                      ds 1
RAM:2FCE ??                                      ds 1
RAM:2FCF ??                                      ds 1
RAM:2FD0 ??                                      ds 1
RAM:2FD1 ??                                      ds 1
RAM:2FD2 ??                                      ds 1
RAM:2FD3 ??                      byte_2FD3:      ds 1                    ; DATA XREF: sub_0+8Ew
RAM:2FD4 ??                                      ds 1
RAM:2FD5 ??                                      ds 1
RAM:2FD6 ??                                      ds 1
RAM:2FD7 ??                                      ds 1
RAM:2FD8 ??                                      ds 1
RAM:2FD9 ?? ??                   word_2FD9:      ds 2                    ; DATA XREF: sub_0:loc_8w
RAM:2FD9                                                                 ; sub_0+57r ...
RAM:2FDB ?? ??                   word_2FDB:      ds 2                    ; DATA XREF: sub_2E7-234w
RAM:2FDB                                                                 ; sub_2E7-20Er ...
RAM:2FDD ??                      byte_2FDD:      ds 1                    ; DATA XREF: sub_0+196r
RAM:2FDD                                                                 ; ROM:loc_26Dr ...
RAM:2FDE ??                      byte_2FDE:      ds 1                    ; DATA XREF: ROM:0176w
RAM:2FDE                                                                 ; ROM:loc_2BDr ...
RAM:2FDF ??                                      ds 1
RAM:2FE0 ??                                      ds 1
RAM:2FE1 ??                                      ds 1
RAM:2FE2 ??                                      ds 1
RAM:2FE3 ??                                      ds 1
RAM:2FE4 ??                                      ds 1
RAM:2FE5 ??                                      ds 1
RAM:2FE6 ??                                      ds 1
RAM:2FE7 ??                                      ds 1
RAM:2FE8 ??                                      ds 1
RAM:2FE9 ??                                      ds 1
RAM:2FEA ??                                      ds 1
RAM:2FEB ??                                      ds 1
RAM:2FEC ??                                      ds 1
RAM:2FED ??                                      ds 1
RAM:2FEE ??                      byte_2FEE:      ds 1                    ; DATA XREF: ROM:01D9w
RAM:2FEE                                                                 ; ROM:loc_1DCr ...
RAM:2FEF ??                      byte_2FEF:      ds 1                    ; DATA XREF: ROM:022Cw
RAM:2FEF                                                                 ; sub_2E7+Ar
RAM:2FF0 ??                      byte_2FF0:      ds 1                    ; DATA XREF: ROM:021Aw
RAM:2FF0                                                                 ; sub_2E7+10r
RAM:2FF1 ??                      byte_2FF1:      ds 1                    ; DATA XREF: ROM:01B5r
RAM:2FF1                                                                 ; ROM:02D4w ...
RAM:2FF2 ??                      byte_2FF2:      ds 1                    ; DATA XREF: ROM:0128r
RAM:2FF2                                                                 ; ROM:016Fr ...
RAM:2FF3 ??                      byte_2FF3:      ds 1                    ; DATA XREF: ROM:01ABr
RAM:2FF3                                                                 ; ROM:03BEw
RAM:2FF4 ??                      byte_2FF4:      ds 1                    ; DATA XREF: sub_0+6Er
RAM:2FF4                                                                 ; sub_0+76w ...
RAM:2FF5 ??                      byte_2FF5:      ds 1                    ; DATA XREF: ROM:02CDr
RAM:2FF6 ??                      byte_2FF6:      ds 1                    ; DATA XREF: ROM:0131r
RAM:2FF6                                                                 ; ROM:028Ar ...
RAM:2FF7 ??                                      ds 1
RAM:2FF8 ??                                      ds 1
RAM:2FF9 ??                      byte_2FF9:      ds 1                    ; DATA XREF: ROM:02D9w
RAM:2FFA ??                      byte_2FFA:      ds 1                    ; DATA XREF: ROM:02DCw
RAM:2FFB ??                                      ds 1
RAM:2FFC ??                      byte_2FFC:      ds 1                    ; DATA XREF: sub_2E7+7Fw
RAM:2FFD ??                                      ds 1
RAM:2FFE ??                      byte_2FFE:      ds 1                    ; DATA XREF: sub_2E7:loc_360r
RAM:2FFF ??                      byte_2FFF:      ds 1                    ; DATA XREF: sub_0:loc_A6w
RAM:2FFF                                                                 ; sub_2E7-231r ...
RAM:2FFF                         ; end of 'RAM'
RAM:2FFF
RAM:2FFF
RAM:2FFF                                         end